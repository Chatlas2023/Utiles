// crear_arbolado_optimizado.html
<!DOCTYPE html>
<html>
<head>
    <title>Optimizar JSON</title>
</head>
<body>
    <script>
        // Cargar el JSON completo y crear versión optimizada
        fetch('arbolado.json')
            .then(response => response.json())
            .then(data => {
                // Filtrar solo los campos necesarios
                const datosOptimizados = data.map(arbol => ({
                    lat: arbol.latitud || arbol.lat,
                    lng: arbol.longitud || arbol.lng || arbol.lon,
                    nombre: arbol.nombre_arbol || arbol.nombre || arbol.especie,
                    especie: arbol.especie || arbol.nombre_cientifico,
                    altura: arbol.altura,
                    edad: arbol.edad,
                    direccion: arbol.direccion || arbol.ubicacion
                })).filter(arbol => arbol.lat && arbol.lng); // Solo árboles con coordenadas

                // Crear archivo descargable
                const blob = new Blob([JSON.stringify(datosOptimizados)], {type: 'application/json'});
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = 'arbolado_optimizado.json';
                a.click();
                
                console.log(`Reducido de ${data.length} a ${datosOptimizados.length} árboles`);
            })
            .catch(error => console.error('Error:', error));
    </script>
</body>
</html>
